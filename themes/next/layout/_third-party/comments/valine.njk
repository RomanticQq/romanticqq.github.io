{%- set serverURLs = theme.valine.serverURLs or 'https://' + theme.valine.appId.slice(0, 8) | lower + '.api.lncldglobal.com' %}
<script>
NexT.utils.loadComments('#valine-comments', () => {
  NexT.utils.getScript('{{ theme.vendors.valine }}', () => {
    new Valine(Object.assign({{ theme.valine | safedump }}, {
      el: '#valine-comments',
      path: {{ url_for(page.path) | replace(r/index\.html$/, '') | safedump }},
      serverURLs: {{ serverURLs | safedump }}
    }));
  }, window.Valine);
});
</script>
<script type="text/javascript">
   fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      document.getElementById("veditor").setAttribute("placeholder",data.hitokoto+"--"+data.from);
    })
    .catch(console.error)
</script>